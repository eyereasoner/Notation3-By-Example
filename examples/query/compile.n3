@prefix : <http://example.org/ns#> .
@prefix query: <https://github.com/phochste/query#> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .

(  _Query _Body 
   _Param _WhereBody _ResultBody
   _Surface
) log:onNegativeSurface {
    () log:onNeutralSurface {
        _Query a query:Query ;
            query:select _Body .
    } .

    _Body log:includes {
        _Param query:where _WhereBody ;
                query:result _ResultBody .
    } .

    ( _WhereBody {
        () log:onNegativeSurface {
            _Query query:answer _ResultBody .
        } 
    }) log:conjunction _Surface.

    () log:onNegativeSurface {
        _Param log:onNegativeSurface _Surface.
    } .
} .

(_X _Answer) log:onQuerySurface {
    _X query:answer _Answer .
} .
