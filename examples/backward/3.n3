@prefix : <urn:example.org:> .
@prefix log: <http://www.w3.org/2000/10/swap/log#> .
@prefix list: <http://www.w3.org/2000/10/swap/list#> .

:Alice a :Human .
:Alice :likes (:Cats :Dogs) .

(_S _What _L) log:onNegativeSurface {
   _S :likes _L .
   _L :reverse _What .
   () log:onNegativeSurface {
        :result :is _What .
   } .
} .

(_A _B) log:onNegativeSurface {
    () log:onNegativeSurface <<_A :reverse _B>> .
    (_A () ) :reverse_ _B .
} .

(_Acc) log:onNegativeSurface {
    () log:onNegativeSurface <<( () _Acc ) :reverse_ _Acc>> .
} .

(_A _B _Acc _AccN _H _T) log:onNegativeSurface {
    () log:onNegativeSurface <<( _A _Acc ) :reverse_ _B>> .
    _A list:firstRest (_H _T) .
    ((_H) _Acc) list:append _AccN .
    ( _T _AccN) :reverse_ _B .
} .

(_S _O) log:onQuerySurface {
    _S :is _O .
} .
